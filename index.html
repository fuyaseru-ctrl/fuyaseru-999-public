<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ•ãƒ¤ã‚»ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ ğŸˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #f8f9fa; font-family: 'Helvetica Neue', Arial, sans-serif; }
        .card { background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .btn-primary { background-color: #ff4b4b; color: white; transition: 0.2s; }
        .btn-primary:hover { background-color: #e63e3e; transform: translateY(-1px); }
        .mode-btn { transition: 0.2s; border: 1px solid #ddd; font-weight: bold; font-size: 0.75rem; }
        .mode-btn.active { background-color: #ff4b4b; color: white; border-color: #ff4b4b; box-shadow: 0 2px 4px rgba(255,75,75,0.3); }
        .yahoo-link { display: inline-flex; align-items: center; gap: 4px; color: #ff0033; font-weight: bold; font-size: 0.9rem; text-decoration: none; margin-top: 8px; transition: 0.2s; }
        .yahoo-link:hover { color: #cc0000; text-decoration: underline; }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
        <div class="flex items-center gap-6 mb-8">
            <img src="huya.png" alt="huya" class="w-24 h-24 md:w-32 md:h-32 rounded-lg object-cover shadow-sm" onerror="this.src='https://cdn-icons-png.flaticon.com/512/616/616430.png'">
            <div>
                <h1 class="text-2xl md:text-4xl font-bold text-gray-800">ãƒ•ãƒ¤ã‚»ãƒ«ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ</h1>
                <p class="text-gray-500 font-bold">ã€œ è‡ªå‹•ç”Ÿæˆå™¨ ğŸˆ ã€œ</p>
            </div>
        </div>

        <div class="card p-6 mb-6">
            <label class="block font-bold mb-3 text-gray-700 text-lg">1. åˆ†æãƒ¢ãƒ¼ãƒ‰ã‚’é¸æŠ</label>
            <div id="modeButtons" class="grid grid-cols-2 md:grid-cols-4 gap-2 mb-6"></div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <button onclick="randomChar()" class="bg-gray-100 p-3 rounded-lg font-bold hover:bg-gray-200">ğŸ² ã‚­ãƒ£ãƒ©ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ã™ã‚‹</button>
                <button onclick="location.reload()" class="bg-gray-100 p-3 rounded-lg font-bold hover:bg-gray-200">ğŸ”„ å…¨ã¦ãƒªã‚»ãƒƒãƒˆ</button>
            </div>

            <div class="mb-6">
                <label class="block font-bold mb-2 text-gray-700">æ‹…å½“ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</label>
                <select id="charSelect" class="w-full p-3 border-2 rounded-lg mb-2 focus:border-red-400 outline-none"></select>
                <input type="text" id="customChar" class="w-full p-2 border rounded-lg text-sm bg-gray-50" placeholder="ãƒªã‚¹ãƒˆã«ãªã„å ´åˆã¯è‡ªåˆ†ã§å…¥åŠ›">
            </div>
            
            <div class="mb-6">
                <label class="block font-bold mb-2 text-gray-700">èããŸã„ã“ã¨</label>
                <select id="qSelect" class="w-full p-3 border-2 rounded-lg mb-2 focus:border-red-400 outline-none"></select>
                <input type="text" id="customQ" class="w-full p-2 border rounded-lg text-sm bg-gray-50" placeholder="ãƒªã‚¹ãƒˆã«ãªã„å ´åˆã¯è‡ªåˆ†ã§å…¥åŠ›">
            </div>

            <div id="extraOptions" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 border-t pt-4">
                <div>
                    <label class="block font-bold mb-1 text-gray-600 text-sm">ç¾åœ¨ã®çŠ¶æ…‹</label>
                    <select id="statusSelect" class="w-full p-2 border rounded shadow-sm"></select>
                </div>
                <div>
                    <label class="block font-bold mb-1 text-gray-600 text-sm">æ™‚é–“è»¸</label>
                    <select id="timeSelect" class="w-full p-2 border rounded shadow-sm"></select>
                </div>
            </div>

            <div class="mb-6 border-t pt-4">
                <div id="tickerArea">
                    <label class="block font-bold mb-2 text-gray-700">è¨¼åˆ¸ã‚³ãƒ¼ãƒ‰ / ç¤¾åï¼ˆä»»æ„ï¼‰</label>
                    <div class="flex flex-col">
                        <input type="text" id="ticker" oninput="updateYahooLink()" class="w-full p-3 border-2 rounded-lg" placeholder="ä¾‹: 7203">
                        <a id="yahooLink" href="#" target="_blank" class="yahoo-link hidden">
                            ğŸ” Yahoo!ãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹ã§ã€Œ<span id="tickerDisplay"></span>ã€ã®å®Ÿåœ¨ãƒã‚§ãƒƒã‚¯ï¼
                        </a>
                    </div>
                    <p class="text-xs text-gray-400 mt-1">â€»AIã¯æ¶ç©ºã®éŠ˜æŸ„ã‚‚ãã‚Œã£ã½ãèªã£ã¦ã—ã¾ã†ã®ã§ã€å®Ÿåœ¨ãƒã‚§ãƒƒã‚¯ã—ã¦ã­ï¼</p>
                </div>
                
                <label id="detailLabel" class="block font-bold mb-2 mt-4 text-gray-700">ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»è¨˜äº‹ãƒ»å¿ƒã®å«ã³</label>
                <textarea id="detail" class="w-full p-3 border-2 rounded-lg h-48 mb-6 focus:border-red-400 outline-none" placeholder="ã“ã“ã«ã‚³ãƒ”ãƒšã—ã¦ã«ã‚ƒï¼"></textarea>
            </div>

            <button onclick="generate()" class="w-full btn-primary p-5 rounded-2xl text-2xl font-bold shadow-xl">ğŸš€ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç”Ÿæˆã™ã‚‹</button>
        </div>

        <div id="resultArea" class="hidden mb-20">
            <div class="card p-6 border-t-8 border-green-500">
                <h2 class="text-xl font-bold mb-4 text-green-700">ğŸ“ ç”Ÿæˆå®Œäº†ã«ã‚ƒï¼</h2>
                <pre id="outputText" class="bg-gray-900 text-green-400 p-6 rounded-xl overflow-x-auto text-sm mb-4 whitespace-pre-wrap border-2 border-gray-700"></pre>
                <button id="copyBtn" onclick="copy()" class="bg-white border-2 border-gray-300 p-4 rounded-xl font-bold hover:bg-gray-50 w-full md:w-auto text-lg">ğŸ“‹ ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
            </div>
        </div>
    </div>

    <script>
        const MODES = {
            "ğŸ“ˆ æ”»ã‚ï¼ˆå£²è²·ãƒ»æˆ¦ç•¥ï¼‰": {
                chars: [
                    "ã€ğŸŸ© å£²è²·ã€‘çŸ­æœŸå£²è²·ã‚³ãƒ¼ãƒ", "ã€ğŸŸ© å£²è²·ã€‘ã‚¹ã‚¤ãƒ³ã‚°è·äºº", "ã€ğŸŸ© å£²è²·ã€‘é †å¼µã‚ŠéšŠé•·", "ã€ğŸŸ© å£²è²·ã€‘é€†å¼µã‚Šåäºº", "ã€ğŸŸ© å£²è²·ã€‘ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆæ•´ç†å±‹", "ã€ğŸŸ© å£²è²·ã€‘ãƒ–ãƒ¬ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆç‹™æ’ƒæ‰‹", "ã€ğŸŸ© å£²è²·ã€‘ã‚¤ãƒŠã‚´ã‚¿ãƒ¯ãƒ¼ç™»å±±å®¶", "ã€ğŸŸ© å£²è²·ã€‘IPOã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ¼ãƒãƒ³ã‚¿ãƒ¼", "ã€ğŸŸ© å£²è²·ã€‘ä½ä½æ ªãƒ»ãƒœãƒ­æ ªãƒ‰ãƒªãƒ¼ãƒ å‹¢", "ã€ğŸŸ© å£²è²·ã€‘ã‚¤ãƒ™ãƒ³ãƒˆæŠ•è³‡å®¶",
                    "ã€ğŸŸ© å£²è²·ã€‘æ¿èª­ã¿ã®é¬¼ãƒ»æ°—é…å€¤ç›£è¦–å“¡", "ã€ğŸŸ© å£²è²·ã€‘PTSå¤œæˆ¦éƒ¨éšŠãƒ»å…ˆå›ã‚ŠéšŠå“¡", "ã€ğŸŸ© å£²è²·ã€‘ç©ºå£²ã‚Šå‹¢ã®è¸ã¿ä¸Šã’èª˜å°ä¿‚"
                ],
                questions: [
                    "ä»Šå…¥ã£ã¦ã„ã„ï¼Ÿ", "æ˜æ—¥ã®å¯„ã‚Šä»˜ãäºˆæƒ³ã¯ï¼Ÿ", "æŠ¼ã—ç›®ã¯ã©ã“ï¼Ÿ", "ãƒãƒ£ãƒ¼ãƒˆçš„ã«ä¸Šï¼Ÿ", "æåˆ‡ã‚Šãƒ»åˆ©ç¢ºç›®æ¨™ã¯ï¼Ÿ",
                    "5åˆ†è¶³ã®RSIä¹–é›¢ã‹ã‚‰è¦‹ã¦ãƒªãƒç‹™ãˆã‚‹ï¼Ÿ", "å‡ºæ¥é«˜ã®æ€¥å¢—ã¯ã€è²·ã„é›†ã‚ã€ã«è¦‹ãˆã‚‹ï¼Ÿ", "æ¿ã®åšã„æ–¹ã‚’é£Ÿã„ç ´ã‚‹å‹¢ã„ã¯ã‚ã‚‹ï¼Ÿ", "ç›´è¿‘IPOã®ã‚»ã‚«ãƒ³ãƒ€ãƒªãƒ¼ã€åˆå‹•ä¹—ã‚Œã‚‹ï¼Ÿ"
                ],
                rules: `1. **çµè«–ã‹ã‚‰ã‚ºãƒãƒª**: ã€Œè²·ã„ã€ã€Œæ§˜å­è¦‹ã€ã€Œå£²ã‚Šã€ã®åˆ¤æ–­ã‚’å†’é ­ã§è¿°ã¹ã¦ãã ã•ã„ã€‚
2. **å…·ä½“çš„ãªæ•°å€¤**: æåˆ‡ã‚Šãƒ©ã‚¤ãƒ³ã‚„åˆ©ç¢ºç›®æ¨™ã¯å…·ä½“çš„ãªä¾¡æ ¼ï¼ˆå††ï¼‰ã§ç¤ºã—ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: çŸ­æœŸãƒˆãƒ¬ãƒ¼ãƒ€ãƒ¼ã®ã‚³ãƒ¼ãƒã¨ã—ã¦ã€è¿·ã„ã‚’æ–­ã¡åˆ‡ã‚‹å¼·ã„å£èª¿ã§è©±ã—ã¦ãã ã•ã„ã€‚`
            },
            "ğŸ›¡ï¸ å®ˆã‚Šï¼ˆç®¡ç†ãƒ»ãƒªã‚¹ã‚¯ï¼‰": {
                chars: [
                    "ã€ğŸŸ¥ è¾›å£ã€‘é¬¼ä¸Šå¸æŠ•è³‡é¡§å•", "ã€ğŸŸ¥ è¾›å£ã€‘æ’¤é€€ç•ªé•·", "ã€ğŸŸ¥ è¾›å£ã€‘ãƒã‚¸ãƒã‚¸ç—…çŸ¯æ­£å®˜", "ã€ğŸŸ© æˆ¦ç•¥ã€‘è³‡é‡‘ç®¡ç†ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼", "ã€ğŸŸ© æˆ¦ç•¥ã€‘åˆ†å‰²åˆ©ç¢ºã‚³ãƒ¼ãƒ", "ã€ğŸŸ© æˆ¦ç•¥ã€‘ã€Œç¾é‡‘ã¯ç‹æ§˜ã€ä¿¡è€…", "ã€ğŸŸ© æˆ¦ç•¥ã€‘ãƒ˜ãƒƒã‚¸å–å¼•ã®é­”è¡“å¸«", "ã€ğŸŸ© æˆ¦ç•¥ã€‘ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªè¨­è¨ˆå£«", "ã€ğŸŸ¥ è¾›å£ã€‘æ©Ÿä¼šæå¤±ã‚’å˜†ãäº¡éœŠ", "ã€ğŸŸ¥ è¾›å£ã€‘ç¨é‡‘è¨ˆç®—ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼",
                    "ã€ğŸŸ© æˆ¦ç•¥ã€‘è¿½è¨¼å›é¿ã®å°‚é–€ãƒœãƒ‡ã‚£ãƒ¼ã‚¬ãƒ¼ãƒ‰", "ã€ğŸŸ¥ è¾›å£ã€‘é€±æœ«ãƒãƒ¼ãƒã‚¸å¾¹åº•ã®é¢¨ç´€å§”å“¡", "ã€ğŸŸ¥ è¾›å£ã€‘ãƒ¡ãƒ³ã‚¿ãƒ«å´©å£Šã‚¹ãƒˆãƒƒãƒ‘ãƒ¼"
                ],
                questions: [
                    "å«ã¿æåˆ‡ã‚‹ã¹ãï¼Ÿ", "ãƒŠãƒ³ãƒ”ãƒ³ã—ã¦åŠ©ã‹ã‚‹ï¼Ÿ", "é©æ­£ãƒã‚¸ã‚·ãƒ§ãƒ³é‡ã¯ï¼Ÿ", "ãƒªã‚¹ã‚¯æ´—ã„å‡ºã—ã¦",
                    "æç›Šé€šç®—ã‚’è€ƒãˆã¦ä»Šå£²ã‚‹ã¹ãï¼Ÿ", "æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³ï¼ˆè³‡ç”£ã®æ¸›ã‚Šï¼‰ã‚’è¨ˆç®—ã—ã¦", "ä»Šã®æŒã¡æ ªã€æ¥­ç¨®ãŒåã‚Šã™ãã¦ãªã„ï¼Ÿ"
                ],
                rules: `1. **æœ€æ‚ªã‚’æƒ³å®š**: æ¥½è¦³è«–ã¯æ¨ã¦ã¦ã€æœ€æ‚ªã®ã‚·ãƒŠãƒªã‚ªï¼ˆã‚¹ãƒˆãƒƒãƒ—å®‰ãªã©ï¼‰ã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚
2. **è³‡é‡‘ç®¡ç†å„ªå…ˆ**: å„²ã‘ã‚‹ã“ã¨ã‚ˆã‚Šã€Œç”Ÿãæ®‹ã‚‹ã“ã¨ã€ã‚’æœ€å„ªå…ˆã«ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã—ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: ç”˜ãˆã‚’è¨±ã•ãªã„å³ã—ã„æ…‹åº¦ã€ã¾ãŸã¯å†·é™æ²ˆç€ãªãƒªã‚¹ã‚¯ç®¡ç†è€…ã®å£èª¿ã§ã€‚`
            },
            "ğŸ“Š åˆ†æï¼ˆæ¥­ç¸¾ãƒ»ãƒ•ã‚¡ãƒ³ãƒ€ï¼‰": {
                chars: [
                    "ã€ğŸŸ¦ åˆ†æã€‘éœ€çµ¦æ¢åµ", "ã€ğŸŸ¦ åˆ†æã€‘ææ–™ã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼", "ã€ğŸŸ¦ åˆ†æã€‘20å¹´é¸æ‰‹ã®æ—¥æœ¬æ ªã‚¢ãƒŠãƒªã‚¹ãƒˆ", "ã€ğŸŸ¦ åˆ†æã€‘æ±ºç®—è·äºº", "ã€ğŸŸ¨ é•·æœŸã€‘ãƒãƒªãƒ¥ãƒ¼æ ªæŸ»å®šå£«", "ã€ğŸŸ¦ åˆ†æã€‘ä¼šç¤¾å››å­£å ±ã®è™«", "ã€ğŸŸ¦ åˆ†æã€‘ãƒã‚¯ãƒ­çµŒæ¸ˆå­¦è€…", "ã€ğŸŸ¦ åˆ†æã€‘ã‚¤ãƒ³ã‚µã‚¤ãƒ€ãƒ¼è¿½è·¡ç­", "ã€ğŸŸ¦ åˆ†æã€‘ã‚»ã‚¯ã‚¿ãƒ¼ãƒ­ãƒ¼ãƒ†äºˆå ±å£«", "ã€ğŸŸ¨ é•·æœŸã€‘é«˜é…å½“ãƒ»å„ªå¾…ç”Ÿæ´»ã®é”äºº",
                    "ã€ğŸŸ¦ åˆ†æã€‘ä¸­å°å‹æ ªã®ç™ºæ˜è·äºº", "ã€ğŸŸ¦ åˆ†æã€‘ç±³æ ªé€£å‹•ãƒ»ç‚ºæ›¿èª­ã¿ã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆ", "ã€ğŸŸ¦ åˆ†æã€‘å¤§æ ªä¸»ãƒ»å¤§é‡ä¿æœ‰å ±å‘Šæ›¸ã®è§£èª­ç­"
                ],
                questions: [
                    "æ±ºç®—è©•ä¾¡ã—ã¦", "PERãƒ»PBRã‹ã‚‰è¦‹ã¦å‰²å®‰ï¼Ÿ", "ãƒ©ã‚¤ãƒãƒ«ã¨ã®æ¯”è¼ƒå¼·ã¿ã¯ï¼Ÿ",
                    "ç«¶åˆä»–ç¤¾ã®æ±ºç®—ã‹ã‚‰ã€ã“ã®æ ªã«è¿½ã„é¢¨å¹ãï¼Ÿ", "ä¿®æ­£å±¥æ­´ã‹ã‚‰è¦‹ã¦ã€ä¸Šæ–¹ä¿®æ­£ã€ã®æœŸå¾…åº¦ã¯ï¼Ÿ", "ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ•ãƒ­ãƒ¼ã‹ã‚‰è¦‹ã¦å¢—é…ä½™åŠ›ã¯ã‚ã‚‹ï¼Ÿ"
                ],
                rules: `1. **ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã**: æ„Ÿæƒ…è«–ã§ã¯ãªãã€æ•°å­—ï¼ˆPER, PBR, é€²æ—ç‡ãªã©ï¼‰ã‚’æ ¹æ‹ ã«ã—ã¦ãã ã•ã„ã€‚
2. **å¤šè§’çš„è¦–ç‚¹**: è‰¯ã„ç‚¹ã ã‘ã§ãªãã€æ‡¸å¿µç‚¹ï¼ˆãƒªã‚¹ã‚¯ï¼‰ã‚‚å…¬å¹³ã«æŒ™ã’ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: ãƒ—ãƒ­ã®ã‚¢ãƒŠãƒªã‚¹ãƒˆã¨ã—ã¦ã€è«–ç†çš„ã‹ã¤å°‚é–€çš„ãªè¨€è‘‰é£ã„ã§åˆ†æã—ã¦ãã ã•ã„ã€‚`
            },
            "ğŸ”° åˆå¿ƒè€…ãƒ»ãƒ¡ãƒ³ã‚¿ãƒ«": {
                chars: [
                    "ã€ğŸŸª åˆå¿ƒã€‘æŠ•è³‡ã‚’å™›ã¿ç •ãå…ˆç”Ÿ", "ã€ğŸŸª ãƒ¡ãƒ³ã‚¿ãƒ«ã€‘æ„Ÿæƒ…æ•´ç†ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼", "ã€ğŸŸª ãƒ¡ãƒ³ã‚¿ãƒ«ã€‘ã€Œä»Šæ—¥ã¯ä¼‘ã‚ã€ã¨è¨€ã†äºº", "ã€ğŸŸ« éŠã³ã€‘é€†ç¥ãŠã˜ã•ã‚“", "ã€ğŸŸª åˆå¿ƒã€‘å°‚é–€ç”¨èªç¦æ­¢ã®å„ªã—ã„å…ˆè¼©", "ã€ğŸŸª ãƒ¡ãƒ³ã‚¿ãƒ«ã€‘è¤’ã‚ã¡ãã‚ŠéšŠé•·", "ã€ğŸŸª åˆå¿ƒã€‘æ­´å²ã®å…ˆç”Ÿ", "ã€ğŸŸ« éŠã³ã€‘ãƒ•ãƒ¤ã«ã‚ƒã‚“", "ã€ğŸŸª ãƒ¡ãƒ³ã‚¿ãƒ«ã€‘ç‘æƒ³å°å…¥ä¿‚", "ã€ğŸŸª åˆå¿ƒã€‘ç©ç«‹NISAã¨ã®æ¯”è¼ƒãŠå§‰ã•ã‚“",
                    "ã€ğŸŸª åˆå¿ƒã€‘æå‡ºã—ãƒ»ç¯€ç¨ã®ç›¸è«‡ãŠå…„ã•ã‚“", "ã€ğŸŸª ãƒ¡ãƒ³ã‚¿ãƒ«ã€‘å‹ã¡è² ã‘ã‚ˆã‚Šç¶™ç¶šã‚’èª¬ãåƒ§ä¾¶", "ã€ğŸŸ« éŠã³ã€‘å¤§å‹ã¡ã‚’å¤¢è¦‹ã‚‹å¦„æƒ³ãƒ•ãƒ¬ãƒ³ãƒ‰"
                ],
                questions: [
                    "åˆå¿ƒè€…ã§ã‚‚å¤§ä¸ˆå¤«ï¼Ÿ", "å°‚é–€ç”¨èªã‚’å™›ã¿ç •ã„ã¦ï¼", "ãƒ¡ãƒ³ã‚¿ãƒ«ãƒœãƒ­ãƒœãƒ­ã€‚åŠ±ã¾ã—ã¦",
                    "æŠ•è³‡æ—¥è¨˜ã€ä»Šã®è² ã‘ã‚’ã©ã†è¨˜éŒ²ã™ã¹ãï¼Ÿ", "å‘¨ã‚Šã®ã€çˆ†ç›Šã€ãŒç¾¨ã¾ã—ãã¦ç„¦ã‚‹â€¦ã©ã†ã™ã‚Œã°ï¼Ÿ", "å«ã¿æã«æ…£ã‚Œã¦ã€å¡©æ¼¬ã‘ã€ãŒå¹³æ°—ã«ãªã£ãŸã€ã“ã‚Œå±ãªã„ï¼Ÿ"
                ],
                rules: `1. **å°‚é–€ç”¨èªç¦æ­¢**: åˆå¿ƒè€…ã§ã‚‚ã‚ã‹ã‚‹å¹³æ˜“ãªè¨€è‘‰ã§èª¬æ˜ã—ã¦ãã ã•ã„ã€‚
2. **å…±æ„Ÿã¨è‚¯å®š**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸å®‰ã‚„ææ€–ã«å¯„ã‚Šæ·»ã„ã€ã¾ãšã¯æ„Ÿæƒ…ã‚’å—ã‘æ­¢ã‚ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: å„ªã—ãã€æ¸©ã‹ãã€æ™‚ã«ã¯ãƒ¦ãƒ¼ãƒ¢ã‚¢ã‚’äº¤ãˆã¦ãƒªãƒ©ãƒƒã‚¯ã‚¹ã•ã›ã¦ãã ã•ã„ã€‚`
            },
            "ğŸš‘ ç·Šæ€¥ãƒ»ç‰¹åˆ¥å¯¾å¿œ": {
                chars: [
                    "ã€ğŸŸ¥ è¾›å£ã€‘å†·å¾¹ãƒ•ã‚¡ãƒ³ãƒ‰PM", "ã€ğŸŸ¥ è¾›å£ã€‘æ¥½è¦³è«–ã‚¯ãƒ©ãƒƒã‚·ãƒ£ãƒ¼", "ã€ğŸŸ¨ é•·æœŸã€‘æ±ºç®—è·¨ãåˆ¤æ–­å½¹", "ã€ğŸŸ« éŠã³ã€‘æœ€å¾Œã«ç¾å®Ÿã‚’çªãã¤ã‘ã‚‹ç›£ç£", "ã€ğŸš‘ ç·Šæ€¥ã€‘å¤–ç§‘åŒ»ãƒ»æåˆ‡ã‚Šãƒ‰ã‚¯ã‚¿ãƒ¼", "ã€ğŸš‘ ç·Šæ€¥ã€‘PTSãƒ»ADRç›£è¦–å“¡", "ã€ğŸš‘ ç·Šæ€¥ã€‘é–‹ç¤ºæƒ…å ±ã®å¼è­·å£«", "ã€ğŸš‘ ç·Šæ€¥ã€‘æµå‹•æ€§ãƒ‘ãƒ‹ãƒƒã‚¯å¯¾ç­–ä¿‚", "ã€ğŸŸ« éŠã³ã€‘ãŠç¥ˆã‚ŠæŠ•è³‡æ³•ã®æ•™ç¥–",
                    "ã€ğŸš‘ ç·Šæ€¥ã€‘Så®‰å¼µã‚Šä»˜ãè„±å‡ºã®åŠ©è¨€è€…", "ã€ğŸš‘ ç·Šæ€¥ã€‘TOBãƒ»ä¸Šå ´å»ƒæ­¢ã®æ‰‹ç¶šãæ¡ˆå†…äºº", "ã€ğŸš‘ ç·Šæ€¥ã€‘æ·±å¤œã®ADRæš´è½å¯¾å¿œãƒ‡ã‚¹ã‚¯"
                ],
                questions: [
                    "æš´è½ä¸­ï¼é€ƒã’ã‚‹ã‹æ‹¾ã†ã‹ï¼Ÿ", "æ±ºç®—ã¾ãŸãã‚®ãƒ£ãƒ³ãƒ–ãƒ«ã—ã¦ã„ã„ï¼Ÿ", "ã‚¹ãƒˆå®‰ã§å£²ã‚Œãªã„ï¼",
                    "PTSã§æ€¥è½ä¸­ï¼ADRï¼ˆç±³å›½ï¼‰ã®åå¿œã¯ã©ã†ï¼Ÿ", "ä¿¡ç”¨å…¨åŠ›ã§è¢«å¼¾ï¼è¿½è¨¼å›é¿ã®å„ªå…ˆé †ä½ã¯ï¼Ÿ", "TOBç™ºè¡¨ï¼å¸‚å ´ã§å£²ã‚‹ã‹å¿œå‹Ÿã™ã‚‹ã‹ã©ã£ã¡ï¼Ÿ"
                ],
                rules: `1. **ã‚¹ãƒ”ãƒ¼ãƒ‰é‡è¦–**: æ‚ é•·ãªèª¬æ˜ã¯çœãã€ä»Šã™ãã‚„ã‚‹ã¹ãè¡Œå‹•ï¼ˆActionï¼‰ã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚
2. **å†·é™ãªåˆ¤æ–­**: ãƒ‘ãƒ‹ãƒƒã‚¯ã«ãªã£ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¯¾ã—ã€å®¢è¦³çš„ãªäº‹å®Ÿï¼ˆæ¿çŠ¶æ³ã‚„ãƒ«ãƒ¼ãƒ«ï¼‰ã‚’çªãã¤ã‘ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: ç·Šæ€¥äº‹æ…‹ã«å¯¾å¿œã™ã‚‹ãƒ—ãƒ­ã¨ã—ã¦ã€ç°¡æ½”ã‹ã¤æ–­å®šçš„ã«æŒ‡ç¤ºã‚’å‡ºã—ã¦ãã ã•ã„ã€‚`
            },
            "ğŸ“š å­¦ç¿’ï¼ˆçŸ¥è­˜ãƒ»æ­´å²ï¼‰": {
                chars: [
                    "ã€ğŸ“š å­¦ç¿’ã€‘æ©æ ªã¥ãã‚Šã®è·äºº", "ã€ğŸ“š å­¦ç¿’ã€‘æŠ•è³‡ã®æ­´å²æ•™æˆ", "ã€ğŸ“š å­¦ç¿’ã€‘ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æã®æ•™ç§‘æ›¸", "ã€ğŸ“š å­¦ç¿’ã€‘ãƒ•ã‚¡ãƒ³ãƒ€ãƒ¡ãƒ³ã‚¿ãƒ«ã‚ºã®é¬¼æ•™å¸«", "ã€ğŸ“š å­¦ç¿’ã€‘è¡Œå‹•çµŒæ¸ˆå­¦ã®ç ”ç©¶è€…", "ã€ğŸ“š å­¦ç¿’ã€‘ä¼èª¬ã®ç›¸å ´å¸«ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼", "ã€ğŸ“š å­¦ç¿’ã€‘é‡‘èç”¨èªã®è¾æ›¸", "ã€ğŸ“š å­¦ç¿’ã€‘ãƒã‚¯ãƒ­çµŒæ¸ˆã®è¬›å¸«", "ã€ğŸ“š å­¦ç¿’ã€‘ã‚¯ã‚¤ã‚ºå‡ºé¡Œè€…", "ã€ğŸ“š å­¦ç¿’ã€‘æ´‹æ›¸æŠ•è³‡æœ¬ã®ç¿»è¨³å®¶", "ã€ğŸ“š å­¦ç¿’ã€‘å¤±æ•—äº‹ä¾‹ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–",
                    "ã€ğŸ“š å­¦ç¿’ã€‘ã‚¢ãƒãƒãƒªãƒ¼ï¼ˆå­£ç¯€æ€§ï¼‰ã®ç ”ç©¶å®¶", "ã€ğŸ“š å­¦ç¿’ã€‘å„„ã‚Šäººã®æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æå®˜", "ã€ğŸ“š å­¦ç¿’ã€‘ç›¸å ´ã®æ ¼è¨€ãƒ»åè¨€è§£èª¬è€…"
                ],
                questions: [
                    "æ©æ ªã®ä½œã‚Šæ–¹ã¯ï¼Ÿ", "PER/PBR/ROEæ•™ãˆã¦", "ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³ã‚¯ãƒ­ã‚¹ã¯åŠ¹ãï¼Ÿ",
                    "éå»20å¹´ã®ã€ç¯€åˆ†å¤©äº•ã€ã®ç¢ºç‡ã‚’æ•™ãˆã¦", "å¤§æš´è½ãŒæ¥ãŸæ™‚ã€æœ€åˆã«è²·ã‚ã‚Œã‚‹æ ªã®ç‰¹å¾´ã¯ï¼Ÿ", "è¡Œå‹•çµŒæ¸ˆå­¦ã®ã€ã‚µãƒ³ã‚¯ã‚³ã‚¹ãƒˆãƒã‚¤ã‚¢ã‚¹ã€ã£ã¦ä½•ï¼Ÿ"
                ],
                rules: `1. **æ•™ç§‘æ›¸çš„ã«**: å®šç¾©ã‚„ä»•çµ„ã¿ã‚’æ­£ç¢ºã«æ•™ãˆã¦ãã ã•ã„ã€‚
2. **å…·ä½“ä¾‹**: æŠ½è±¡çš„ãªè©±ã ã‘ã§ãªãã€éå»ã®ãƒãƒ£ãƒ¼ãƒˆã‚„äº‹ä¾‹ï¼ˆãƒªãƒ¼ãƒãƒ³ã‚·ãƒ§ãƒƒã‚¯ç­‰ï¼‰ã‚’ä¾‹ã«å‡ºã—ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: å…ˆç”Ÿã‚„æ•™æˆã¨ã—ã¦ã€å­¦ã¶æ„æ¬²ã‚’é«˜ã‚ã‚‹ã‚ˆã†ãªå£èª¿ã§è§£èª¬ã—ã¦ãã ã•ã„ã€‚`
            },
            "ğŸ“° è¨˜äº‹ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹å…¥åŠ›": {
                chars: [
                    "ã€ğŸ“° è¨˜äº‹ã€‘è¦ç´„ã®ãƒ—ãƒ­", "ã€ğŸ“° è¨˜äº‹ã€‘è¾›å£ã‚³ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚¿ãƒ¼", "ã€ğŸ“° è¨˜äº‹ã€‘ãƒã‚¸ãƒ†ã‚£ãƒ–å¤‰æ›æ©Ÿ", "ã€ğŸ“° è¨˜äº‹ã€‘éŠ˜æŸ„æŠ½å‡ºãƒã‚·ãƒ¼ãƒ³", "ã€ğŸ“° è¨˜äº‹ã€‘å°å­¦ç”Ÿã«ã‚‚ã‚ã‹ã‚‹è§£èª¬", "ã€ğŸ“° è¨˜äº‹ã€‘è¦‹å‡ºã—è·äºº", "ã€ğŸ“° è¨˜äº‹ã€‘ãƒ•ã‚§ã‚¤ã‚¯ãƒ‹ãƒ¥ãƒ¼ã‚¹æ¤œçŸ¥å™¨", "ã€ğŸ“° è¨˜äº‹ã€‘æµ·å¤–è¨˜äº‹ã®ç¿»è¨³ãƒ»è§£èª¬", "ã€ğŸ“° è¨˜äº‹ã€‘è­°è«–ã®ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚¿ãƒ¼", "ã€ğŸ“° è¨˜äº‹ã€‘ãƒ•ãƒ¤ã«ã‚ƒã‚“",
                    "ã€ğŸ“° è¨˜äº‹ã€‘è¡Œè«–ã®è£ã‚’èª­ã‚€é™°è¬€è«–è€…ï¼ˆï¼Ÿï¼‰", "ã€ğŸ“° è¨˜äº‹ã€‘é–¢é€£ã‚»ã‚¯ã‚¿ãƒ¼æ³¢åŠäºˆæ¸¬ãƒã‚·ãƒ³", "ã€ğŸ“° è¨˜äº‹ã€‘SNSã§ã®æ‹¡æ•£åº¦ãƒ»å½±éŸ¿åŠ›æ¸¬å®šå™¨"
                ],
                questions: [
                    "ã“ã®è¨˜äº‹ã‹ã‚‰é€£æƒ³ã•ã‚Œã‚‹ã€æ„å¤–ãªé–¢é€£éŠ˜æŸ„ï¼ˆå¤§ç©´ï¼‰ã€ã¯ï¼Ÿ",
                    "å››å­£å ±ã§æ¤œç´¢ã™ã¹ãã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ç”¨ãƒ¯ãƒ¼ãƒ‰ã€ã‚’3ã¤æŒ™ã’ã¦",
                    "ã“ã®è¨˜äº‹ã®ã€è¡Œé–“ã€ã«éš ã•ã‚ŒãŸã€æ›¸ã‹ã‚Œã¦ã„ãªã„çœŸå®Ÿã¯ï¼Ÿ",
                    "ã“ã®è¨˜äº‹ãŒã‚‚ã—ã€ãƒ•ã‚§ã‚¤ã‚¯ã€ã‚„ã€é£›ã°ã—ã€ã ã¨ã—ãŸã‚‰ã€èª°ãŒå¾—ã‚’ã™ã‚‹ï¼Ÿ",
                    "ã“ã®è¨˜äº‹ã®ã€æ¼ ç„¶ã¨ã—ãŸè©•ä¾¡ã€ã¨ã€æ€ªã—ã•ãƒ¬ãƒ™ãƒ«ã€ã‚’åˆ¤å®šã—ã¦",
                    "æ˜æ—¥ã®å¯„ã‚Šä»˜ãã§ã€ç‰¹è²·ã„ï¼ˆæ€¥é¨°ï¼‰ã«ãªã‚Šãã†ãªãƒ‘ãƒ¯ãƒ¼ã¯ã‚ã‚‹ï¼Ÿ",
                    "PTSï¼ˆå¤œé–“å–å¼•ï¼‰ã§åå¿œã—ãã†ãªã€å¼·ã„ãƒ¯ãƒ¼ãƒ‰ã€ã¯ã©ã‚Œï¼Ÿ",
                    "æµ·å¤–æŠ•è³‡å®¶ï¼ˆå¤–å›½äººï¼‰ã¯ã“ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’ãƒã‚¸ãƒ†ã‚£ãƒ–ã«æ‰ãˆã‚‹ï¼Ÿ",
                    "ã“ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã§è³‡é‡‘ãŒæµå…¥ã™ã‚‹ã€ã‚»ã‚¯ã‚¿ãƒ¼ï¼ˆæ¥­ç¨®ï¼‰ã€ã¯ã©ã“ï¼Ÿ",
                    "ã€Œææ–™å‡ºå°½ãã—ã€ã§å£²ã‚‰ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼Ÿãã‚Œã¨ã‚‚ã€Œåˆå‹•ã€ï¼Ÿ",
                    "ä¸€è¦‹è‰¯ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã ã‘ã©ã€éš ã‚ŒãŸã€è½ã¨ã—ç©´ï¼ˆãƒªã‚¹ã‚¯ï¼‰ã€ã¯ã‚ã‚‹ï¼Ÿ",
                    "ã“ã®è¨˜äº‹ã®ã€ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ï¼ˆè²·ã„ç…½ã‚Šï¼‰ã€è¦ç´ ã¯ã©ã‚Œãã‚‰ã„ï¼Ÿ",
                    "ã€Œå™‚ã§è²·ã£ã¦äº‹å®Ÿã§å£²ã‚‹ã€ãªã‚‰ã€ä»Šã¯ã©ã®ãƒ•ã‚§ãƒ¼ã‚ºï¼Ÿ",
                    "ç«¶åˆä»–ç¤¾ã«ã¨ã£ã¦ã¯ã€ãƒ¡ãƒªãƒƒãƒˆã€ã‹ã€ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã€ã‹ï¼Ÿ",
                    "éå»ã«ä¼¼ãŸã‚ˆã†ãªãƒ‹ãƒ¥ãƒ¼ã‚¹ãŒã‚ã£ãŸæ™‚ã€æ ªä¾¡ã¯ã©ã†ãªã£ãŸï¼Ÿ",
                    "Xï¼ˆæ—§Twitterï¼‰ã§ãƒã‚ºã‚Šãã†ãªã€è¦‹å‡ºã—ã€ã¨ã€ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã€ã‚’ä½œã£ã¦",
                    "ã“ã®è¨˜äº‹ã‚’ã€å¼·æ°—ãƒ»å¼±æ°—ãƒ»ä¸­ç«‹ã€ã®3æ®µéšã§åˆ¤å®šã—ã¦",
                    "ã“ã®ä¼æ¥­ãŒå„²ã‹ã‚‹ã¨ã€é€£é–çš„ã«å„²ã‹ã‚‹ã€ä¸‹è«‹ã‘ãƒ»é–¢é€£ä¼æ¥­ã€ã¯ï¼Ÿ",
                    "å°å­¦ç”ŸæŠ•è³‡å®¶ã«ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«ã€3è¡Œã€ã§èª¬æ˜ã—ã¦",
                    "ã“ã®è¨˜äº‹ã®å†…å®¹ã‚’ã€ã‚‚ã£ã¨è¾›å£ã«æ‰¹åˆ¤ï¼ˆãƒ€ãƒ¡å‡ºã—ï¼‰ã—ã¦"
                ],
                rules: `1. **ã‚¤ãƒ³ã‚µã‚¤ãƒˆé‡è¦–**: å˜ãªã‚‹è¦ç´„ã§ã¯ãªãã€ãã“ã‹ã‚‰èª­ã¿å–ã‚Œã‚‹ã€ŒæŠ•è³‡ã®ãƒ’ãƒ³ãƒˆï¼ˆé€£æƒ³ï¼‰ã€ã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚
2. **è£èª­ã¿**: è¨˜äº‹ã®æ„å›³ã€ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒˆãƒ¼ã‚¯ã€æ›¸ã‹ã‚Œã¦ã„ãªã„ãƒªã‚¹ã‚¯ã‚’æ¨æ¸¬ã—ã¦ãã ã•ã„ã€‚
3. **ã‚­ãƒ£ãƒ©ã‚’è²«ã**: æƒ…å ±ã®ãƒ—ãƒ­ã¨ã—ã¦ã€é‹­ã„è¦–ç‚¹ã¨å®¢è¦³çš„ãªåˆ†æã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚`
            }
        };

        const TIME_HORIZONS = ["æŒ‡å®šãªã—", "å½“æ—¥", "æ•°é€±", "åŠå¹´", "1å¹´ä»¥ä¸Š"];
        const STATUS_OPTIONS = ["æœªä¿æœ‰", "å«ã¿ç›Šä¸­", "å«ã¿æä¸­", "ç›£è¦–ä¸­", "å‹‰å¼·ä¸­"];

        let currentMode = Object.keys(MODES)[0];
        const modeContainer = document.getElementById('modeButtons');
        const charSelect = document.getElementById('charSelect');
        const qSelect = document.getElementById('qSelect');

        function updateUI() {
            const data = MODES[currentMode];
            charSelect.innerHTML = "";
            qSelect.innerHTML = "";
            data.chars.forEach(c => charSelect.add(new Option(c)));
            data.questions.forEach(q => qSelect.add(new Option(q)));
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.toggle('active', btn.innerText === currentMode));
            
            const isArticle = currentMode.includes("è¨˜äº‹");
            document.getElementById('extraOptions').style.display = isArticle ? "none" : "grid";
            document.getElementById('tickerArea').style.display = isArticle ? "none" : "block";
            
            updateYahooLink();
        }

        function updateYahooLink() {
            const ticker = document.getElementById('ticker').value;
            const link = document.getElementById('yahooLink');
            const display = document.getElementById('tickerDisplay');
            
            if (ticker && ticker.match(/^\d{4}$/)) {
                link.href = `https://finance.yahoo.co.jp/quote/${ticker}.T`;
                display.innerText = ticker;
                link.classList.remove('hidden');
                link.classList.add('flex');
            } else {
                link.classList.add('hidden');
                link.classList.remove('flex');
            }
        }

        Object.keys(MODES).forEach(m => {
            const btn = document.createElement('button');
            btn.innerText = m;
            btn.className = "mode-btn p-2 rounded-lg bg-white shadow-sm";
            btn.onclick = () => { currentMode = m; updateUI(); };
            modeContainer.appendChild(btn);
        });

        STATUS_OPTIONS.forEach(s => document.getElementById('statusSelect').add(new Option(s)));
        TIME_HORIZONS.forEach(t => document.getElementById('timeSelect').add(new Option(t)));

        function randomChar() {
            const data = MODES[currentMode];
            charSelect.selectedIndex = Math.floor(Math.random() * data.chars.length);
        }

        function generate() {
            const char = document.getElementById('customChar').value || charSelect.value;
            const q = document.getElementById('customQ').value || qSelect.value;
            const t = document.getElementById('ticker').value || "";
            const d = document.getElementById('detail').value;
            
            const isArticle = currentMode.includes("è¨˜äº‹");
            if(!d && (!isArticle && !t)) { alert("ä¸­èº«ã‚’å…¥åŠ›ã—ã¦ã«ã‚ƒï¼"); return; }

            const modeRules = MODES[currentMode].rules || "1. çµè«–ã‹ã‚‰æ›¸ã\n2. æ ¹æ‹ ã‚’ç¤ºã™\n3. ã‚­ãƒ£ãƒ©ã‚’è²«ã";

            let prompt = `# ã‚ãªãŸã¸ã®æŒ‡ä»¤\nã‚ãªãŸã¯**ã€Œ${char}ã€**ã§ã™ã€‚\nãã®æ€§æ ¼ã€å°‚é–€æ€§ã€å£èª¿ã‚’å®Œç’§ã«å†ç¾ã—ã€ä»¥ä¸‹ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç›¸è«‡ã«ä¹—ã£ã¦ãã ã•ã„ã€‚\n\n## ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãƒ»ç›¸è«‡å†…å®¹\n`;
            
            if (!isArticle) {
                prompt += `- **ç¾åœ¨ã®çŠ¶æ…‹**: ${document.getElementById('statusSelect').value}\n`;
                prompt += `- **æŠ•è³‡ã®æ™‚é–“è»¸**: ${document.getElementById('timeSelect').value}\n`;
            }
            
            prompt += `- **èããŸã„ã“ã¨**: ${q}\n\n`;
            
            const targetDisplay = isArticle ? "è¨˜äº‹ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹å†…ã«ç™»å ´ã™ã‚‹éŠ˜æŸ„ã€ã¾ãŸã¯è¨˜äº‹ãã®ã‚‚ã®" : (t || "ï¼ˆä»¥ä¸‹ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿å‚ç…§ï¼‰");
            prompt += `## å¯¾è±¡\n${targetDisplay}\n\n`;
            
            prompt += `## å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»è¨˜äº‹ãƒ»ãƒ¡ãƒ¢ï¼‰\n${d}\n\n`;
            
            prompt += `## å›ç­”ã®ãƒ«ãƒ¼ãƒ«\n${modeRules}\n`;
            prompt += `4. **å½¢å¼**: èª­ã¿ã‚„ã™ã„ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ï¼ˆé‡è¦ãªæ•°å€¤ã¯**å¤ªå­—**ï¼‰`;

            document.getElementById('outputText').innerText = prompt;
            document.getElementById('resultArea').classList.remove('hidden');
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }

        function copy() {
            const text = document.getElementById('outputText').innerText;
            navigator.clipboard.writeText(text).then(() => {
                const btn = document.getElementById('copyBtn');
                btn.innerText = "âœ… ã‚³ãƒ”ãƒ¼å®Œäº†ï¼";
                setTimeout(() => btn.innerText = "ğŸ“‹ ã‚³ãƒ”ãƒ¼ã™ã‚‹", 2000);
            });
        }
        updateUI();
    </script>
</body>
</html>
